import{c as Se,a as ne,d as Le,e as ae,i as ve,I as _e,T as X,f as Ie,g as Ce,b as ue,h as Ae,M as Ge,j as Re,k as Te,l as Ue}from"../chunks/MovieCard.BeAGSSM_.js";import{b as he,u as je,c as a,t as y,p as ee,o as z}from"../chunks/disclose-version.CLSDmHhS.js";import{i as ie}from"../chunks/legacy.Bv5XtgpG.js";import{b as Be,h as xe,a as ye,g as Ee,i as we,m as Ne,t as Oe,n as qe,s as Fe,k as Je,aE as Ve,R as l,T as i,Q as D,A as se,ak as q,M as r,C as oe,ac as de,al as o,af as $,Z as Ye,am as He,aI as Qe}from"../chunks/runtime.CFcG-3Xj.js";import{s as A}from"../chunks/render.Cgf7nCeE.js";import{i as B}from"../chunks/if.Cv0M8SsW.js";import{a as re,b as Ze}from"../chunks/attributes.ksGBOeus.js";import{p as Q}from"../chunks/props.D6hYFncs.js";import{o as Ke}from"../chunks/index-client.ee2ljMUb.js";function We(M,c,e,w,b){var g=M,u="",p;Be(()=>{if(u===(u=c()??"")){xe&&ye();return}p!==void 0&&(Ve(p),p=void 0),u!==""&&(p=Ee(()=>{if(xe){we.data;for(var d=ye(),G=d;d!==null&&(d.nodeType!==8||d.data!=="");)G=d,d=Ne(d);if(d===null)throw Oe(),qe;he(we,G),g=Fe(d);return}var E=u+"",h=je(E);he(Je(h),h.lastChild),g.before(h)}))})}async function Xe({params:M}){return await Se(M.slug)}const ja=Object.freeze(Object.defineProperty({__proto__:null,load:Xe},Symbol.toStringTag,{value:"Module"}));var $e=y('<div class="pill"> </div>');function ea(M,c){let e=Q(c,"label",8,void 0);var w=$e(),b=l(w,!0);i(w),D(()=>A(b,e())),a(M,w)}function Me(M,c="dd/mm/yy"){const e=new Date(M);if(!(e instanceof Date)||isNaN(e))throw new Error("Invalid date provided.");const w=["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],b=["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],g={dd:String(e.getDate()).padStart(2,"0"),mm:String(e.getMonth()+1).padStart(2,"0"),yyyy:e.getFullYear(),yy:String(e.getFullYear()).slice(-2),MM:w[e.getMonth()],D:b[e.getDay()]};return c.replace(/dd|mm|yyyy|yy|MM|D/g,u=>g[u])}var aa=y('<li class="reviews__item"><div class="reviews__item__user"><!> <div><!> <span><!> </span> <em> </em></div> <!></div></li>'),ra=y('<ul class="reviews"></ul>');function ta(M,c){se(c,!1);let e=Q(c,"movieID",8,void 0);ie();var w=ee(),b=q(w);ne(b,()=>Le(e()),null,(g,u)=>{var p=ee(),d=q(p);{var G=h=>{var _=ra();ae(_,5,()=>{var n;return(n=r(u))==null?void 0:n.results},ve,(n,f)=>{let S=()=>r(f).author_details,L=()=>r(f).content,x=()=>r(f).created_at,P=()=>r(f).id,F=()=>r(f).url;var R=aa(),Z=l(R),N=l(Z),Y=de(()=>{var O;return(O=S())==null?void 0:O.avatar_path});_e(N,{get src(){return r(Y)},width:80,ratio:1});var t=o(N,2),s=l(t);X(s,{size:"sm",level:3,children:(O,W)=>{$();var C=z();D(()=>A(C,S().username)),a(O,C)},$$slots:{default:!0}});var v=o(s,2),m=l(v),T=de(()=>S().rating/2);Ie(m,{get score(){return r(T)}});var k=o(m);i(v);var I=o(v,2),H=l(I);D(()=>A(H,`le ${Me(x(),"D dd mm yyyy")??""}.`)),i(I),i(t);var j=o(t,2);We(j,L,!1,!1),i(Z),i(R),D(()=>A(k,` ${S().rating??""} / 10`)),a(n,R)}),i(_),a(h,_)},E=h=>{var _=z("Aucun avis pour le moment.");a(h,_)};B(d,h=>{var _,n;(n=(_=r(u))==null?void 0:_.results)!=null&&n.length?h(G):h(E,!1)})}a(g,p)},g=>{var u=z("Une erreur est survenue pendant la récupération des avis");a(g,u)}),a(M,w),oe()}var ia=y('<li class="svelte-1r2zg13"><!> <div class="svelte-1r2zg13"><strong> <small> </small></strong> <strong> </strong> <p> </p></div></li>'),sa=y('<div class="credits svelte-1r2zg13"><!></div>');function be(M,c){se(c,!1);let e=Q(c,"movieID",8,void 0),w=Q(c,"filter",8,void 0);ie();var b=sa(),g=l(b);ne(g,()=>Ce(e(),w()),null,(u,p)=>{var d=ee(),G=q(d);{var E=_=>{ue(_,{width:"150px",children:(n,f)=>{var S=ee(),L=q(S);ae(L,1,()=>{var x;return(x=r(p))==null?void 0:x[w()]},ve,(x,P)=>{let F=()=>r(P).id,R=()=>r(P).profile_path,Z=()=>r(P).name,N=()=>r(P).original_name,Y=()=>r(P).gender,t=()=>r(P).character,s=()=>r(P).job,v=()=>r(P).known_for_department;var m=ia(),T=l(m);_e(T,{get src(){return R()}});var k=o(T,2),I=l(k),H=l(I),j=o(H),O=l(j);i(j),i(I);var W=o(I,2),C=l(W,!0);i(W);var U=o(W,2),K=l(U);i(U),i(k),i(m),D(()=>{A(H,`${(Z()||N()||"Inconnu")??""} `),A(O,`(${["","F","M"][Y()||0]??""})`),A(C,v()),A(K,`"${(t()||s())??""}"`)}),a(x,m)}),a(n,S)},$$slots:{default:!0}})},h=_=>{var n=z("Il n'y a aucune information disponible concernant l'équipe du film.");a(_,n)};B(G,_=>{var n,f;(f=(n=r(p))==null?void 0:n[w()])!=null&&f.length?_(E):_(h,!1)})}a(u,d)},u=>{var p=z("Une erreur est survenue pendant la récupération des informations");a(u,p)}),i(b),a(M,b),oe()}var oa=y('<li><a class="svelte-1m02yxx"><!></a></li>'),la=y('<div class="similar svelte-1m02yxx"><!></div>');function na(M,c){se(c,!1);let e=Q(c,"movieID",8,void 0);ie();var w=la(),b=l(w);ne(b,()=>Ae(e(),5),null,(g,u)=>{var p=ee(),d=q(p);{var G=h=>{ue(h,{width:"220px",children:(_,n)=>{var f=ee(),S=q(f);ae(S,1,()=>{var L;return(L=r(u))==null?void 0:L.results},({id:L,original_title:x,overview:P,poster_path:F,release_date:R,original_language:Z,vote_average:N})=>L,(L,x)=>{let P=()=>r(x).id,F=()=>r(x).original_title,R=()=>r(x).overview,Z=()=>r(x).poster_path,N=()=>r(x).release_date,Y=()=>r(x).original_language,t=()=>r(x).vote_average;var s=oa(),v=l(s),m=l(v);Ge(m,{get id(){return P()},get title(){return F()},get image(){return Z()},get description(){return R()},get date(){return N()},get language(){return Y()},get score(){return t()}}),i(v),i(s),D(()=>re(v,"href",`/film/${P()??""}`)),a(L,s)}),a(_,f)},$$slots:{default:!0}})},E=h=>{var _=z("Il n'y a aucun film similaire à celui ci.");a(h,_)};B(d,h=>{var _,n;(n=(_=r(u))==null?void 0:_.results)!=null&&n.length?h(G):h(E,!1)})}a(g,p)},g=>{var u=z("Une erreur est survenue pendant la récupération des films similaires");a(g,u)}),i(w),a(M,w),oe()}var va=y("<li><!></li>"),da=y('<div class="photos"><!></div>');function De(M,c){se(c,!1);let e=Q(c,"movieID",8,void 0),w=Q(c,"max",8,10),b=Q(c,"filter",8,"backdrops");ie();var g=da(),u=l(g);ne(u,()=>Re(e(),w()),null,(p,d)=>{var G=ee(),E=q(G);{var h=n=>{var f=de(()=>b()==="backdrops"?"400px":"280px");ue(n,{get width(){return r(f)},children:(S,L)=>{var x=ee(),P=q(x);ae(P,1,()=>{var F;return(F=r(d))==null?void 0:F[b()]},ve,(F,R)=>{let Z=()=>r(R).id,N=()=>r(R).aspect_ratio,Y=()=>r(R).file_path;var t=va(),s=l(t);_e(s,{get src(){return Y()},width:"500px",get ratio(){return N()}}),i(t),a(F,t)}),a(S,x)},$$slots:{default:!0}})},_=n=>{var f=z("Il n'y a aucune photo pour ce film");a(n,f)};B(E,n=>{r(d)?n(h):n(_,!1)})}a(p,G)},p=>{var d=z("Une erreur est survenue pendant la récupération des photos");a(p,d)}),i(g),a(M,g),oe()}var _a=y('<!> <iframe width="980px" height="552px" allowfullscreen frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin"></iframe>',1),ca=y('<div class="videos svelte-13h73al"><!></div>');function ua(M,c){se(c,!1);let e=Q(c,"movieID",8,void 0),w=Q(c,"max",8,10),b=Q(c,"filter",8,"youtube");ie();var g=ca(),u=l(g);ne(u,()=>Te(e(),w()),null,(p,d)=>{var G=ee(),E=q(G);{var h=n=>{var f=ee(),S=q(f);ae(S,1,()=>r(d).results.filter(({site:L})=>L.toLowerCase()===b().toLowerCase()),ve,(L,x)=>{let P=()=>r(x).id,F=()=>r(x).key,R=()=>r(x).name,Z=()=>r(x).site;var N=_a(),Y=q(N);X(Y,{level:"4",size:"md",children:(s,v)=>{$();var m=z();D(()=>A(m,R())),a(s,m)},$$slots:{default:!0}});var t=o(Y,2);D(()=>{re(t,"title",R()),re(t,"src",`https://www.youtube.com/embed/${F()??""}`)}),a(L,N)}),a(n,f)},_=n=>{var f=z("Il n'y a aucune vidéo pour ce film");a(n,f)};B(E,n=>{var f,S;(S=(f=r(d))==null?void 0:f.results)!=null&&S.length?n(h):n(_,!1)})}a(p,G)},p=>{var d=z("Une erreur est survenue pendant la récupération des vidéos");a(p,d)}),i(g),a(M,g),oe()}var ma=y("<small> </small>"),fa=y("<em> </em>"),ga=y(" <!> <!>",1),pa=y("<img>"),ha=y('<div class="movie__header__details__countries"></div>'),xa=y('<a class="movie__header__details__reviews" href="#reviews"><!> <small> </small></a>'),ya=y('<div class="movie__header__details__remease"><strong>Date de sortie :</strong> </div>'),wa=y("<small> </small>"),ba=y("<li> <!></li>"),Da=y('<strong>Production :</strong> <ul class="movie__header__details__production"></ul>',1),Ia=y('<p class="movie__header__details__overview"> </p>'),Ma=y('<div class="movie__header__details__genres"></div>'),Pa=y('<section class="movie__section" id="photos"><!> <!></section> <section class="movie__section" id="affiches"><!> <!></section> <section class="movie__section" id="affiches"><!> <!></section> <section class="movie__section" id="similar"><!> <!></section> <section class="movie__section" id="similar"><!> <!></section> <section class="movie__section" id="reviews"><!> <!></section> <section class="movie__section" id="similar"><!> <!></section>',1),ka=y('<div class="movie"><header class="movie__header"><div class="movie__header__image"><!></div> <div class="movie__header__details"><!> <!> <!> <!> <!> <!> <!></div></header> <!></div>');function Ba(M,c){se(c,!1);let e=Q(c,"data",24,()=>({})),w=He(!1);Ke(()=>Ye(w,!0)),ie();var b=ka(),g=l(b),u=l(g),p=l(u);_e(p,{get src(){return e().poster_path},get alt(){return`affiche du film ${e().title??""}`},width:400}),i(u);var d=o(u,2),G=l(d);Ue(G,()=>e().homepage?"a":"div",!1,(t,s)=>{let v;D(()=>v=Ze(t,v,{class:"movie__header__details__title",href:e().homepage||void 0,target:e().homepage?"_blank":void 0},"svelte-imj6ai",t.namespaceURI===Qe,t.nodeName.includes("-"))),X(s,{level:2,size:"xxl",children:(m,T)=>{$();var k=ga(),I=q(k),H=o(I);{var j=C=>{var U=ma(),K=l(U);i(U),D(()=>A(K,`(${e().original_title??""})`)),a(C,U)};B(H,C=>{e().title!==e().original_title&&C(j)})}var O=o(H,2);{var W=C=>{var U=fa(),K=l(U);i(U),D(()=>A(K,`“${e().tagline??""}”`)),a(C,U)};B(O,C=>{e().tagline&&C(W)})}D(()=>A(I,`${e().title??""} `)),a(m,k)},$$slots:{default:!0}})});var E=o(G,2);{var h=t=>{var s=ha();ae(s,5,()=>e().production_countries,({iso_3166_1:v,name:m})=>v,(v,m)=>{let T=()=>r(m).iso_3166_1,k=()=>r(m).name;var I=pa();D(()=>re(I,"src",`https://flagsapi.com/${T().toUpperCase()??""}/shiny/64.png`)),D(()=>re(I,"alt",k())),a(v,I)}),i(s),a(t,s)};B(E,t=>{e().production_countries&&t(h)})}var _=o(E,2);{var n=t=>{var s=xa(),v=l(s),m=de(()=>e().vote_average/2);Ie(v,{get score(){return r(m)}});var T=o(v);D(()=>A(T,` ${Math.round(e().vote_average*100)/100}/10 `));var k=o(T),I=l(k);i(k),i(s),D(()=>A(I,`(${e().vote_count??""} avis.)`)),a(t,s)};B(_,t=>{e().vote_average&&e().vote_count&&t(n)})}var f=o(_,2);{var S=t=>{var s=ya(),v=o(l(s));D(()=>A(v,` ${Me(e().release_date,"D dd MM yyyy.")??""}`)),i(s),a(t,s)};B(f,t=>{e().release_date&&t(S)})}var L=o(f,2);{var x=t=>{var s=Da(),v=o(q(s),2);ae(v,5,()=>e().production_companies,({id:m,name:T,origin_country:k})=>m,(m,T)=>{let k=()=>r(T).id,I=()=>r(T).name,H=()=>r(T).origin_country;var j=ba(),O=l(j),W=o(O);{var C=U=>{var K=wa(),le=l(K);i(K),D(()=>A(le,`(${H()??""})`)),a(U,K)};B(W,U=>{H()&&U(C)})}i(j),D(()=>{re(j,"id",k()),A(O,`${I()??""} `)}),a(m,j)}),i(v),a(t,s)};B(L,t=>{e().production_companies&&t(x)})}var P=o(L,2);{var F=t=>{var s=Ia(),v=l(s,!0);i(s),D(()=>A(v,e().overview)),a(t,s)};B(P,t=>{e().overview&&t(F)})}var R=o(P,2);{var Z=t=>{var s=Ma();ae(s,5,()=>e().genres,ve,(v,m)=>{ea(v,{get label(){return r(m).name}})}),i(s),a(t,s)};B(R,t=>{e().genres&&t(Z)})}i(d),i(g);var N=o(g,2);{var Y=t=>{var s=Pa(),v=q(s),m=l(v);X(m,{level:3,size:"xl",children:(J,te)=>{$();var V=z("Les photos");a(J,V)},$$slots:{default:!0}});var T=o(m,2);De(T,{get movieID(){return e().id},max:12,filter:"backdrops"}),i(v);var k=o(v,2),I=l(k);X(I,{level:3,size:"xl",children:(J,te)=>{$();var V=z("Les vidéos");a(J,V)},$$slots:{default:!0}});var H=o(I,2);ua(H,{get movieID(){return e().id},max:2,filter:"youtube"}),i(k);var j=o(k,2),O=l(j);X(O,{level:3,size:"xl",children:(J,te)=>{$();var V=z("Les affiches du film");a(J,V)},$$slots:{default:!0}});var W=o(O,2);De(W,{get movieID(){return e().id},max:3,filter:"posters"}),i(j);var C=o(j,2),U=l(C);X(U,{level:3,size:"xl",children:(J,te)=>{$();var V=z("Le casting");a(J,V)},$$slots:{default:!0}});var K=o(U,2);be(K,{get movieID(){return e().id},filter:"cast"}),i(C);var le=o(C,2),me=l(le);X(me,{level:3,size:"xl",children:(J,te)=>{$();var V=z("L'équipe technique");a(J,V)},$$slots:{default:!0}});var Pe=o(me,2);be(Pe,{get movieID(){return e().id},filter:"crew"}),i(le);var ce=o(le,2),fe=l(ce);X(fe,{level:3,size:"xl",children:(J,te)=>{$();var V=z("Les derniers avis");a(J,V)},$$slots:{default:!0}});var ke=o(fe,2);ta(ke,{get movieID(){return e().id}}),i(ce);var ge=o(ce,2),pe=l(ge);X(pe,{level:3,size:"xl",children:(J,te)=>{$();var V=z("Les films dans le même genre");a(J,V)},$$slots:{default:!0}});var ze=o(pe,2);na(ze,{get movieID(){return e().id}}),i(ge),a(t,s)};B(N,t=>{r(w)&&t(Y)})}i(b),D(()=>re(b,"id",e().id)),a(M,b),oe()}export{Ba as component,ja as universal};
